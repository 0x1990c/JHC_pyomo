

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>The pyomo Command &mdash; Pyomo 6.5.1.dev0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="BuildAction and BuildCheck" href="BuildAction.html" />
    <link rel="prev" title="Storing Data from Pyomo Models" href="data/storing_data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Pyomo
          

          
          </a>

          
            
            
              <div class="version">
                6.5.1.dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing_pyomo.html">Citing Pyomo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pyomo_overview/index.html">Pyomo Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pyomo_modeling_components/index.html">Pyomo Modeling Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../solving_pyomo_models.html">Solving Pyomo Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_models.html">Working with Pyomo Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Working with Abstract Models</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="instantiating_models.html">Instantiating Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="data/index.html">Managing Data in AbstractModels</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">The <code class="docutils literal notranslate"><span class="pre">pyomo</span></code> Command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#passing-options-to-a-solver">Passing Options to a Solver</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#direct-interfaces-to-solvers">Direct Interfaces to Solvers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="BuildAction.html"><code class="docutils literal notranslate"><span class="pre">BuildAction</span></code> and <code class="docutils literal notranslate"><span class="pre">BuildCheck</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../model_transformations/index.html">Model Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modeling_extensions/index.html">Modeling Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_examples.html">Pyomo Tutorial Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model_debugging/index.html">Debugging Pyomo Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_topics/index.html">Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../errors.html">Common Warnings/Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_reference/index.html">Developer Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_reference/index.html">Library Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribution_guide.html">Contributing to Pyomo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributed_packages/index.html">Third-Party Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../related_packages.html">Related Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pyomo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Working with Abstract Models</a> &raquo;</li>
        
      <li>The <code class="docutils literal notranslate"><span class="pre">pyomo</span></code> Command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/working_abstractmodels/pyomo_command.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-pyomo-command">
<h1>The <code class="docutils literal notranslate"><span class="pre">pyomo</span></code> Command<a class="headerlink" href="#the-pyomo-command" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">pyomo</span></code> command is issued to the DOS prompt or a Unix shell.  To
see a list of Pyomo command line options, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyomo</span> <span class="n">solve</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There are two dashes before <code class="docutils literal notranslate"><span class="pre">help</span></code>.</p>
</div>
<p>In this section we will detail some of the options.</p>
<div class="section" id="passing-options-to-a-solver">
<h2>Passing Options to a Solver<a class="headerlink" href="#passing-options-to-a-solver" title="Permalink to this headline">¶</a></h2>
<p>To pass arguments to a solver when using the <code class="docutils literal notranslate"><span class="pre">pyomo</span> <span class="pre">solve</span></code> command,
append the Pyomo command line with the argument <code class="docutils literal notranslate"><span class="pre">--solver-options=</span></code>
followed by an argument that is a string to be sent to the solver
(perhaps with dashes added by Pyomo).  So for most MIP solvers, the mip
gap can be set using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">solver</span><span class="o">-</span><span class="n">options</span><span class="o">=</span><span class="s2">&quot;mipgap=0.01&quot;</span>
</pre></div>
</div>
<p>Multiple options are separated by a space.  Options that do not take an
argument should be specified with the equals sign followed by either a
space or the end of the string.</p>
<p>For example, to specify that the solver is GLPK, then to specify a
mipgap of two percent and the GLPK cuts option, use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">solver</span><span class="o">=</span><span class="n">glpk</span> <span class="o">--</span><span class="n">solver</span><span class="o">-</span><span class="n">options</span><span class="o">=</span><span class="s2">&quot;mipgap=0.02 cuts=&quot;</span>
</pre></div>
</div>
<p>If there are multiple “levels” to the keyword, as is the case for some
Gurobi and CPLEX options, the tokens are separated by underscore.  For
example, <code class="docutils literal notranslate"><span class="pre">mip</span> <span class="pre">cuts</span> <span class="pre">all</span></code> would be specified as <code class="docutils literal notranslate"><span class="pre">mip_cuts_all</span></code>.  For
another example, to set the solver to be CPLEX, then to set a mip gap of
one percent and to specify ‘y’ for the sub-option <code class="docutils literal notranslate"><span class="pre">numerical</span></code> to the
option <code class="docutils literal notranslate"><span class="pre">emphasis</span></code> use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">solver</span><span class="o">=</span><span class="n">cplex</span> <span class="o">--</span><span class="n">solver</span><span class="o">-</span><span class="n">options</span><span class="o">=</span><span class="s2">&quot;mipgap=0.001 emphasis_numerical=y&quot;</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../working_models.html#solveropts"><span class="std std-ref">Sending Options to the Solver</span></a> for a discussion of passing options in a script.</p>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>Many of things that can go wrong are covered by error messages, but
sometimes they can be confusing or do not provide enough
information. Depending on what the troubles are, there might be ways to
get a little additional information.</p>
<p>If there are syntax errors in the model file, for example, it can
occasionally be helpful to get error messages directly from the Python
interpreter rather than through Pyomo. Suppose the name of the model
file is scuc.py, then</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">scuc</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>can sometimes give useful information for fixing syntax errors.</p>
<p>When there are no syntax errors, but there troubles reading the data or
generating the information to pass to a solver, then the <code class="docutils literal notranslate"><span class="pre">--verbose</span></code>
option provides a trace of the execution of Pyomo. The user should be
aware that for some models this option can generate a lot of output.</p>
<p>If there are troubles with solver (i.e., after Pyomo has output
“Applying Solver”), it is often helpful to use the option
<code class="docutils literal notranslate"><span class="pre">--stream-solver</span></code> that causes the solver output to be displayed rather
than trapped. (See &lt;&lt;TeeTrue&gt;&gt; for information about getting this output
in a script). Advanced users may wish to examine the files that are
generated to be passed to a solver. The type of file generated is
controlled by the <code class="docutils literal notranslate"><span class="pre">--solver-io</span></code> option and the <code class="docutils literal notranslate"><span class="pre">--keepfiles</span></code> option
instructs pyomo to keep the files and output their names. However, the
<code class="docutils literal notranslate"><span class="pre">--symbolic-solver-labels</span></code> option should usually also be specified so
that meaningful names are used in these files.</p>
<p>When there seem to be troubles expressing the model, it is often useful
to embed print commands in the model in places that will yield helpful
information.  Consider the following snippet:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ax_constraint_rule</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
    <span class="c1"># return the expression for the constraint for i</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ax_constraint_rule was called for i=&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">model</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">J</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>


<span class="c1"># the next line creates one constraint for each member of the set model.I</span>
<span class="n">model</span><span class="o">.</span><span class="n">AxbConstraint</span> <span class="o">=</span> <span class="n">Constraint</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">I</span><span class="p">,</span> <span class="n">rule</span><span class="o">=</span><span class="n">ax_constraint_rule</span><span class="p">)</span>
</pre></div>
</div>
<p>The effect will be to output every member of the set <code class="docutils literal notranslate"><span class="pre">model.I</span></code> at the
time the constraint named <code class="docutils literal notranslate"><span class="pre">model.AxbConstraint</span></code> is constructed.</p>
</div>
<div class="section" id="direct-interfaces-to-solvers">
<h2>Direct Interfaces to Solvers<a class="headerlink" href="#direct-interfaces-to-solvers" title="Permalink to this headline">¶</a></h2>
<p>In many applications, the default solver interface works well. However,
in some cases it is useful to specify the interface using the
<code class="docutils literal notranslate"><span class="pre">solver-io</span></code> option. For example, if the solver supports a direct
Python interface, then the option would be specified on the command line
as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">solver</span><span class="o">-</span><span class="n">io</span><span class="o">=</span><span class="n">python</span>
</pre></div>
</div>
<p>Here are some of the choices:</p>
<ul class="simple">
<li>lp: generate a standard linear programming format file with filename
extension <code class="docutils literal notranslate"><span class="pre">lp</span></code></li>
<li>nlp: generate a file with a standard format that supports linear and
nonlinear optimization with filename extension <code class="docutils literal notranslate"><span class="pre">n1lp</span></code></li>
<li>os: generate an OSiL format XML file.</li>
<li>python: use the direct Python interface.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not all solvers support all interfaces.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="BuildAction.html" class="btn btn-neutral float-right" title="BuildAction and BuildCheck" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="data/storing_data.html" class="btn btn-neutral float-left" title="Storing Data from Pyomo Models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2008-2023, Sandia National Laboratories.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>